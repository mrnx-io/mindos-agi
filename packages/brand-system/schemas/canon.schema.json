{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "version": "1.0.0",
  "description": "Canon of Expression output schema",
  "type": "object",
  "additionalProperties": false,
  "required": ["canon_of_expression"],
  "properties": {
    "canon_of_expression": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "lexicon",
        "six_voice_modes",
        "twelve_headlines",
        "six_storylines",
        "soap_opera_sequence",
        "voice_rules",
        "form_invariants",
        "slippery_slide_checklist",
        "derivation_log"
      ],
      "properties": {
        "lexicon": {
          "type": "object",
          "additionalProperties": false,
          "required": ["key_terms", "sacred_words", "forbidden_words", "callbacks"],
          "properties": {
            "key_terms": { "$ref": "./_defs.json#/definitions/string_list" },
            "sacred_words": { "$ref": "./_defs.json#/definitions/string_list" },
            "forbidden_words": { "$ref": "./_defs.json#/definitions/string_list" },
            "callbacks": { "$ref": "./_defs.json#/definitions/string_list" }
          }
        },
        "six_voice_modes": {
          "type": "array",
          "minItems": 6,
          "maxItems": 6,
          "items": {
            "type": "object",
            "additionalProperties": false,
            "required": ["mode", "awareness_fit", "approach", "when_to_use"],
            "properties": {
              "mode": { "type": "string", "minLength": 1 },
              "awareness_fit": { "type": "string", "minLength": 1 },
              "approach": { "type": "string", "minLength": 1 },
              "when_to_use": { "type": "string", "minLength": 1 }
            }
          }
        },
        "twelve_headlines": {
          "type": "array",
          "minItems": 12,
          "maxItems": 12,
          "items": {
            "type": "object",
            "additionalProperties": false,
            "required": ["formula", "lf8_alignment", "brand_example"],
            "properties": {
              "formula": { "type": "string", "minLength": 1 },
              "lf8_alignment": { "$ref": "./_defs.json#/definitions/lf8_id" },
              "brand_example": { "type": "string", "minLength": 1 }
            }
          }
        },
        "six_storylines": {
          "type": "array",
          "minItems": 6,
          "maxItems": 6,
          "items": {
            "type": "object",
            "additionalProperties": false,
            "required": ["name", "structure"],
            "properties": {
              "name": { "type": "string", "minLength": 1 },
              "structure": { "type": "string", "minLength": 1 }
            }
          }
        },
        "soap_opera_sequence": {
          "type": "object",
          "additionalProperties": false,
          "required": ["email_1", "email_2", "email_3", "email_4", "email_5"],
          "properties": {
            "email_1": { "type": "object" },
            "email_2": { "type": "object" },
            "email_3": { "type": "object" },
            "email_4": { "type": "object" },
            "email_5": { "type": "object" }
          }
        },
        "voice_rules": {
          "type": "object",
          "additionalProperties": false,
          "required": ["syntax", "pace", "posture", "taboo_moves", "damaging_admission"],
          "properties": {
            "syntax": { "type": "object" },
            "pace": { "type": "object" },
            "posture": { "type": "object" },
            "taboo_moves": { "$ref": "./_defs.json#/definitions/string_list" },
            "damaging_admission": { "type": "object" }
          }
        },
        "form_invariants": {
          "type": "object",
          "additionalProperties": false,
          "required": ["space_doctrine", "typographic_posture", "chroma_discipline", "motion_doctrine"],
          "properties": {
            "space_doctrine": { "type": "object" },
            "typographic_posture": { "type": "object" },
            "chroma_discipline": { "type": "object" },
            "motion_doctrine": { "type": "object" }
          }
        },
        "slippery_slide_checklist": {
          "type": "array",
          "minItems": 1,
          "items": { "type": "string" }
        },
        "derivation_log": { "$ref": "./_defs.json#/definitions/derivation_log" }
      }
    }
  }
}
